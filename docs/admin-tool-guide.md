# Labubu管理工具使用指南

## 🎯 概述

恭喜您成功创建了Supabase数据库！现在您可以使用我们提供的Web管理工具来管理Labubu合集数据。

## 🚀 快速开始

### 第一步：获取Supabase配置信息

1. 登录您的Supabase控制台
2. 进入项目设置 → API
3. 复制以下信息：
   - **Project URL**: `https://your-project.supabase.co`
   - **Anon Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
   - **Service Role Key**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

### 第二步：启动管理工具

有两种方式启动管理工具：

#### 方式一：本地直接打开（推荐）
```bash
# 在项目目录中
open admin_tool/index.html
```

#### 方式二：本地Web服务器
```bash
# 使用Python启动简单服务器
cd admin_tool
python3 -m http.server 8080

# 然后在浏览器中访问
# http://localhost:8080
```

### 第三步：配置连接

1. 打开管理工具后，您会看到"Supabase配置"面板
2. 输入您的Supabase配置信息：
   - **Supabase URL**: 粘贴您的Project URL
   - **Service Role Key**: 粘贴您的Service Role Key
3. 点击"测试连接"按钮
4. 看到"✅ 连接成功"后，即可开始使用

## 📚 功能详解

### 1. 系列管理

#### 添加新系列
1. 点击"系列管理"标签
2. 点击"添加新系列"按钮
3. 填写系列信息：
   - **中文名称**: 如"经典系列"
   - **英文名称**: 如"Classic Series"
   - **描述**: 系列的详细描述
   - **发布年份**: 如2019
   - **模型总数**: 该系列包含的模型数量
4. 点击"保存"

#### 编辑系列
1. 在系列列表中找到要编辑的系列
2. 点击"编辑"按钮
3. 修改信息后点击"保存"

#### 删除系列
1. 点击系列旁的"删除"按钮
2. 确认删除（注意：会同时删除该系列下的所有模型）

### 2. 模型管理

#### 添加新模型
1. 点击"模型管理"标签
2. 点击"添加新模型"按钮
3. 填写模型详细信息：
   - **所属系列**: 从下拉列表选择
   - **中文名称**: 如"经典粉色Labubu"
   - **英文名称**: 如"Classic Pink Labubu"
   - **型号**: 如"LB-CL-001"
   - **描述**: 模型的详细描述
   - **稀有度**: 选择 common/uncommon/rare/ultra_rare/secret
   - **估价范围**: 最低价和最高价
   - **货币**: 默认CNY
4. 点击"保存"

#### 批量导入模型
1. 准备JSON格式的数据文件：
```json
[
  {
    "name": "经典粉色Labubu",
    "name_en": "Classic Pink Labubu",
    "model_number": "LB-CL-001",
    "description": "经典粉色造型，最受欢迎的版本之一",
    "rarity_level": "common",
    "estimated_price_min": 89.00,
    "estimated_price_max": 150.00,
    "series_name": "经典系列"
  }
]
```
2. 点击"批量导入"按钮
3. 选择JSON文件
4. 确认导入

### 3. 图片管理

#### 上传参考图片
1. 点击"图片管理"标签
2. 选择要添加图片的模型
3. 点击"上传图片"按钮
4. 选择图片文件
5. 设置图片信息：
   - **图片类型**: front/back/side/detail/package
   - **是否主图**: 勾选设为主要展示图片
   - **排序**: 设置显示顺序
6. 点击"上传"

#### 管理现有图片
- **查看**: 点击图片可预览
- **编辑**: 修改图片类型和排序
- **删除**: 点击删除按钮移除图片

### 4. 价格管理

#### 添加价格记录
1. 点击"价格管理"标签
2. 选择模型
3. 点击"添加价格记录"
4. 填写价格信息：
   - **价格**: 具体金额
   - **货币**: CNY/USD等
   - **来源**: taobao/xianyu/official等
   - **商品状态**: new/used/damaged
   - **记录时间**: 自动填充当前时间
5. 点击"保存"

#### 查看价格趋势
- 系统会自动生成价格趋势图表
- 显示最近6个月的价格变化
- 计算平均价格和价格波动

### 5. 数据导入导出

#### 导出数据
1. 点击"数据管理"标签
2. 选择要导出的数据类型
3. 点击"导出JSON"
4. 下载生成的文件

#### 导入数据
1. 准备标准格式的JSON文件
2. 点击"导入数据"
3. 选择文件类型和文件
4. 预览数据后确认导入

## 🔧 高级功能

### 1. 视觉特征管理

为每个模型添加详细的视觉特征，用于提高识别准确率：

#### 颜色特征
- **主要颜色**: 选择3-5个主要颜色
- **颜色分布**: 设置各颜色的占比

#### 形状特征
- **身体形状**: 圆润/方正/细长等
- **头部形状**: 圆形/椭圆/方形等
- **耳朵类型**: 尖耳/圆耳/垂耳等

#### 纹理特征
- **表面纹理**: 光滑/粗糙/磨砂等
- **图案类型**: 纯色/条纹/斑点等

#### 尺寸信息
- **高度/宽度/深度**: 精确的尺寸数据（厘米）

### 2. 识别标签管理

为机器学习训练添加标签：

1. 选择模型
2. 添加识别标签：
   - **标签类型**: color/shape/pattern/accessory/pose
   - **标签值**: 具体的特征描述
   - **置信度**: 0.00-1.00的置信度评分

### 3. 操作日志查看

管理工具会自动记录所有操作：
- 查看操作历史
- 追踪数据变更
- 恢复误删数据

## 📊 数据质量管理

### 数据验证规则

系统会自动验证数据质量：

1. **必填字段检查**: 确保关键信息完整
2. **格式验证**: 价格、日期等格式正确
3. **关联性检查**: 确保外键关系正确
4. **重复数据检测**: 避免重复添加相同模型

### 数据完整性建议

1. **每个模型至少有1张主图**
2. **价格信息定期更新**
3. **视觉特征描述详细准确**
4. **系列信息保持一致**

## 🚨 常见问题解决

### 连接问题

**问题**: 无法连接到Supabase
**解决方案**:
1. 检查URL格式是否正确
2. 确认Service Role Key有效
3. 检查网络连接
4. 查看浏览器控制台错误信息

### 上传问题

**问题**: 图片上传失败
**解决方案**:
1. 检查图片格式（支持JPG/PNG）
2. 确认图片大小<5MB
3. 检查存储桶配置
4. 确认上传权限

### 数据同步问题

**问题**: iOS应用数据未更新
**解决方案**:
1. 等待缓存过期（24小时）
2. 在iOS应用中手动刷新
3. 检查网络连接
4. 重启iOS应用

## 📈 最佳实践

### 1. 数据录入流程

建议按以下顺序录入数据：
1. **创建系列** → 2. **添加模型** → 3. **上传图片** → 4. **设置特征** → 5. **录入价格**

### 2. 图片管理建议

- **主图**: 选择最清晰、最具代表性的正面图
- **多角度**: 至少包含正面、背面、侧面图
- **细节图**: 重要特征的特写图片
- **包装图**: 原包装盒图片

### 3. 价格数据维护

- **定期更新**: 建议每月更新一次价格
- **多渠道**: 收集不同平台的价格信息
- **标注来源**: 明确标注价格来源和商品状态

### 4. 特征描述规范

- **客观描述**: 使用客观、准确的描述
- **统一标准**: 保持描述风格一致
- **关键特征**: 突出最具识别性的特征

## 🔄 数据同步到iOS应用

管理工具中的数据会自动同步到iOS应用：

1. **实时同步**: 数据更新后立即可用
2. **缓存机制**: iOS应用会缓存数据以提高性能
3. **离线支持**: 网络不可用时使用缓存数据
4. **增量更新**: 只同步变更的数据，节省流量

## 📞 技术支持

如果在使用过程中遇到问题：

1. **查看浏览器控制台**: F12打开开发者工具查看错误
2. **检查网络**: 确认网络连接正常
3. **清除缓存**: 清除浏览器缓存后重试
4. **联系支持**: 提供详细的错误信息和操作步骤

---

**祝您使用愉快！通过这个管理工具，您可以轻松管理完整的Labubu合集数据库。** 🎭✨ 