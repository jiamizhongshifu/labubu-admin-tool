# 🎭 Labubu数据管理工具使用指南

## 📋 概述

Labubu数据管理工具是一个基于Web的管理界面，用于管理Labubu模型数据库。该工具支持系列管理、模型管理、图片管理、价格管理和批量数据导入功能。

## 🚀 快速开始

### 第一步：连接Supabase
1. 打开 `admin_tool/index.html`
2. 输入您的Supabase配置：
   - **Supabase URL**: `https://your-project.supabase.co`
   - **Service Role Key**: 您的服务角色密钥
3. 点击"连接到Supabase"

### 第二步：创建Storage Bucket
在Supabase控制台中创建图片存储桶：
```sql
-- 在Supabase SQL编辑器中执行
INSERT INTO storage.buckets (id, name, public) 
VALUES ('labubu-images', 'labubu-images', true);

-- 设置存储策略
CREATE POLICY "Public Access" ON storage.objects FOR SELECT USING (bucket_id = 'labubu-images');
CREATE POLICY "Authenticated Upload" ON storage.objects FOR INSERT WITH CHECK (bucket_id = 'labubu-images');
```

## 📝 添加新模型 - 完整流程

### 1. 基础信息填写
- **所属系列**: 从下拉列表选择已有系列
- **中文名称**: 如"经典粉色Labubu"（必填）
- **英文名称**: 如"Classic Pink Labubu"（可选）
- **型号**: 如"LB-CL-001"（可选）
- **稀有度**: 选择普通/不常见/稀有/超稀有/隐藏
- **描述**: 详细描述这个Labubu的特点
- **估价范围**: 设置最低价和最高价

### 2. 参考图片上传 📷

#### 支持的图片格式
- **文件类型**: JPG, PNG, GIF, WebP
- **文件大小**: 每张最大5MB
- **数量限制**: 最多5张图片
- **推荐尺寸**: 800x800像素以上

#### 上传步骤
1. 点击"📁 选择图片"按钮
2. 选择一张或多张图片（支持多选）
3. 系统会自动生成预览
4. 为每张图片设置类型：
   - **官方正面**: 官方发布的正面图片
   - **官方侧面**: 官方发布的侧面图片
   - **官方背面**: 官方发布的背面图片
   - **用户实拍**: 用户拍摄的实物图片
   - **细节图**: 特写或细节展示
   - **包装图**: 包装盒或包装袋图片

#### 图片管理
- **设为主图**: 点击"设为主图"按钮，该图片将作为主要展示图片
- **删除图片**: 点击"删除"按钮移除不需要的图片
- **重新排序**: 第一张图片默认为主图，可以手动调整

### 3. 智能特征生成 🎨

#### 主要颜色
- 点击颜色选择器选择颜色
- 或直接输入十六进制颜色代码（如#FFB6C1）
- 最多可添加5种主要颜色
- 第一种颜色将作为主要颜色用于识别

#### 形状特征
- **身体形状**: 圆润/方正/细长/不规则
- **头部形状**: 圆形/椭圆/方形/三角形
- **耳朵类型**: 尖耳/圆耳/垂耳/无耳
- **表面纹理**: 光滑/粗糙/磨砂/绒毛
- **图案类型**: 纯色/条纹/斑点/渐变/图案

#### 尺寸信息
- **高度**: 以厘米为单位，如6.5cm
- **宽度**: 以厘米为单位，如4.2cm  
- **深度**: 以厘米为单位，如3.8cm
- **特殊标记**: 描述特殊的图案或标记

### 4. 保存和上传 💾

点击"保存模型"后，系统将：
1. **验证数据** (10%): 检查必填字段
2. **上传图片** (30%): 将图片上传到Supabase Storage
3. **生成特征** (50%): 基于输入信息生成视觉特征向量
4. **保存模型** (80%): 将完整数据保存到数据库
5. **完成** (100%): 显示成功消息

## 🔧 高级功能

### 批量导入
1. 准备JSON格式的数据文件
2. 点击"数据导入"标签
3. 选择JSON文件并预览
4. 确认导入

### 图片管理
- 在"图片管理"标签中可以为已有模型添加更多图片
- 支持编辑图片类型和排序
- 可以删除不需要的图片

### 价格管理
- 在"价格管理"标签中记录价格历史
- 支持不同来源和状态的价格记录
- 自动生成价格趋势分析

## 📱 移动端使用

### 手机操作优化
- 表单自动调整为单列布局
- 图片预览网格优化为2列显示
- 触摸友好的按钮和控件
- 支持手机拍照直接上传

### 平板操作
- 保持桌面端的完整功能
- 优化的触摸交互体验
- 适配横屏和竖屏模式

## ⚠️ 注意事项

### 数据安全
- 使用Service Role Key时请注意安全
- 建议在生产环境中使用更严格的权限控制
- 定期备份重要数据

### 性能优化
- 图片会自动压缩和优化
- 建议使用高质量但文件大小适中的图片
- 避免同时上传过多大文件

### 兼容性
- 支持现代浏览器（Chrome 80+, Firefox 75+, Safari 13+）
- 需要JavaScript支持
- 建议使用稳定的网络连接

## 🆘 常见问题

### Q: 图片上传失败怎么办？
A: 
1. 检查网络连接
2. 确认Supabase Storage配置正确
3. 检查图片格式和大小是否符合要求
4. 如果Storage上传失败，系统会自动使用base64备选方案

### Q: 如何修改已保存的模型？
A: 
1. 在"模型管理"标签中找到要修改的模型
2. 点击"编辑"按钮
3. 修改信息后点击"保存模型"

### Q: 可以删除已上传的图片吗？
A: 
1. 在编辑模型时可以删除图片预览
2. 在"图片管理"标签中可以管理已保存的图片
3. 删除操作不可恢复，请谨慎操作

### Q: 特征向量是如何生成的？
A: 
系统会根据您输入的颜色、形状、尺寸等信息自动生成10维特征向量，用于后续的识别匹配。

## 🔄 更新日志

### v2.0 (当前版本)
- ✅ 新增智能特征生成功能
- ✅ 添加必填项标注和验证
- ✅ 优化用户界面和交互体验
- ✅ 改进图片上传和管理功能
- ✅ 增强错误处理和用户提示

### v1.0
- ✅ 基础的系列和模型管理
- ✅ 简单的图片URL管理
- ✅ 价格历史记录
- ✅ 数据导入导出

## 📞 技术支持

如果您在使用过程中遇到问题，请：
1. 查看浏览器控制台的错误信息
2. 检查Supabase连接状态
3. 确认数据格式是否正确
4. 联系技术支持团队

---

**祝您使用愉快！** 🎉 